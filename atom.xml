<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Daily (?) Complaints (?)]]></title>
  <link href="http://zmwangx.github.io/atom.xml" rel="self"/>
  <link href="http://zmwangx.github.io/"/>
  <updated>2014-12-05T15:15:23-08:00</updated>
  <id>http://zmwangx.github.io/</id>
  <author>
    <name><![CDATA[Zhiming Wang]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Python 3 and Unicode]]></title>
    <link href="http://zmwangx.github.io/blog/2014/12/05/python-3-and-unicode/"/>
    <updated>2014-12-05T15:01:54-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/12/05/python-3-and-unicode</id>
    <content type="html"><![CDATA[<p>I never realized that in Python 3 Unicode is the default; in particular, <code>str</code> in Python 3 is practically equivalent to <code>unicode</code> in Python 2. This might be the <em>one thing</em> that convince me to migrate. <code>str.encode()</code>, <code>str.decode()</code>, <code>unicode.encode()</code>, <code>unicode.decode()</code>, etc. are so confusing that I&rsquo;m never 100% sure what I&rsquo;m doing (only-occasionally-used-but-unavoidable-and-worst-of-all-very-confusing &ldquo;features&rdquo; are nightmares).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Opera-style Advanced Keyboard Shortcuts in Safari]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/30/opera-style-advanced-keyboard-shortcuts-in-safari/"/>
    <updated>2014-11-30T17:20:20-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/30/opera-style-advanced-keyboard-shortcuts-in-safari</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve been using the Chromuim Opera for a long time, after Chrome&rsquo;s design went unbearably ugly around v32 (IIRC Opera stable channel was on v19 when I switched, which was released on January 28, 2014). From then on, Opera&rsquo;s <a href="http://help.opera.com/opera/Mac/1583/en/fasterBrowsing.html#advanced">advanced keyboard shortcuts</a> has become an integral part of my browsing habit. In particular, the following are especially handy for me:</p>

<ul>
<li><code>1</code>: Cycle left through tabs;</li>
<li><code>2</code>: Cycle right through tabs;</li>
<li><code>/</code>: Find on page;</li>
<li><code>Z</code>: Go back one page;</li>
<li><code>X</code>: Go forward one page;</li>
<li><code>0</code>: Zoom in;</li>
<li><code>9</code>: Zoom out;</li>
<li><code>6</code>: Reset zoom to 100%.</li>
</ul>


<p>Lately, with the Yosemite release, Safari has become a much more competitive browser. I won&rsquo;t say why, and I admit that it has major missing features that still prevents it from becoming my default — but I have to say I’m gradually moving more of more of my browsing, especially reading, to Safari. It would be nice if I could carry my power user shortcuts with me. Fortunately, this is possible. Just modify the plist in the following way:</p>

<figure class='code'><figcaption><span>safari-advanced-keyboard-shortcuts.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/usr/bin/env bash</span>
</span><span class='line'>defaults write com.apple.Safari NSUserKeyEquivalents <span class="s1">&#39;{</span>
</span><span class='line'><span class="s1">&quot;Actual Size&quot;=&quot;6&quot;;</span>
</span><span class='line'><span class="s1">&quot;Back&quot;=&quot;z&quot;;</span>
</span><span class='line'><span class="s1">&quot;Find...&quot;=&quot;/&quot;;</span>
</span><span class='line'><span class="s1">&quot;Forward&quot;=&quot;x&quot;;</span>
</span><span class='line'><span class="s1">&quot;Show Previous Tab&quot;=&quot;1&quot;;</span>
</span><span class='line'><span class="s1">&quot;Show Next Tab&quot;=&quot;2&quot;;</span>
</span><span class='line'><span class="s1">&quot;Zoom In&quot;=&quot;0&quot;;</span>
</span><span class='line'><span class="s1">&quot;Zoom Out&quot;=&quot;9&quot;;</span>
</span><span class='line'><span class="s1">}&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Relaunch Safari. You are all set! Enjoy the ultrafast single key navigating experience. To reset,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>defaults delete com.apple.Safari NSUserKeyEquivalents
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Going Diceware]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/28/going-diceware/"/>
    <updated>2014-11-28T19:05:59-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/28/going-diceware</id>
    <content type="html"><![CDATA[<p>Today I&rsquo;m officially going <a href="http://world.std.com/~reinhold/diceware.html">Diceware</a>. I published my simple C implementation of diceware on <a href="https://github.com/zmwangx/diceware">GitHub</a>.</p>

<p>I&rsquo;ve been using 1Password for a couple years now, and I&rsquo;ve always been a bit worried about my master password. It&rsquo;s a ~30 byte monster with uppercase, lowercase letters, numbers, and special symbols. By any measure it is very safe. The problem is there are (extremely) personal things in there. I assembled several unrelated things that I (secretly) hold dearest to my heart, obfuscated them with rules not found in best64, and mixed with semi-gibberish. My daily login password is a combo similar in nature, with less obfuscation to facilitate typing. People who dig really deep into my identity might be able to compromise it (or not); I&rsquo;m afraid that I&rsquo;m more predictable than I thought I was. I know, the worry is pretty much unwarranted, as I’m not likely the target of a focused attack — I’m neither rich nor equipped with sensitive information or power, and for wide-range exploits, 99.9% of people are lower-hanging fruits. Even for a targeted attack, <a href="http://xkcd.com/538/">xkcd 538: Security</a> broke a crypto nerd’s imagination with a $5 wrench. However, a geek is a geek, you can’t block a geek’s imagination.</p>

<p>Therefore, after worrying for so long, today I’m going Diceware. Eight diceware words give you at least 100 bits of true entropy. Unfortunately I don’t have a die, and don’t bother to get one. (Amazon Prime: get it Monday? No. Target, six miles away? No.) So I read my random bits from <code>/dev/urandom</code>. The C implementation is <a href="https://github.com/zmwangx/diceware">here</a>. By publishing this I’m announcing to the world that I’m using diceware. But I’m not afraid, since I’m now protected by true entropy that’s not compromised by publishing the scheme.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Given Infinite Time]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/28/given-infinite-time/"/>
    <updated>2014-11-28T00:18:19-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/28/given-infinite-time</id>
    <content type="html"><![CDATA[<p>Given infinite time. There&rsquo;s so much I can do <em>given infinite time</em>. I don&rsquo;t think I&rsquo;ll ever be bored. But sadly the time assigned to each human being is finite. Actually it&rsquo;s epsilon, epsilon approaching zero. Sadly.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Original Images in Day One Journal]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/26/original-images-in-day-one-journal/"/>
    <updated>2014-11-26T00:22:16-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/26/original-images-in-day-one-journal</id>
    <content type="html"><![CDATA[<p><strong>TL; DR:</strong> Jump to the paragraph beginning with “workaround”.</p>

<hr />

<p>I started a Day One journal two days ago. I&rsquo;ve heard good things about Day One, but after using it for a dozen entries, I&rsquo;m not that satisfied. For one thing, the editor is pretty horrible — keybindings aside, I can’t even find and replace?! And the overview doesn’t look very pretty if you are a heavy Markdown user (i.e., you have a lot of markups, e.g., italics and inline links) — the markups are displayed as is. Moreover, I can’t even <code>#</code> my title: it kills the bold font rendering in the bird’s-eye view. What a let down. Anyway, it’s better than nothing, and I hope it will help me keep on track. (I used to manage a Markdown journal in an encrypted sparse bundle, and it was a pain in the ass — mentally. Maybe some GUI sugar is necessary, although Day One is certainly not as pretty as advertised.) Also a private journal means more privacy — I certainly don’t want to publish everything I write on this public blog.</p>

<p>Too much irrelevant talking. Onto one of the most annoying “features”, and the subject of this post. Images are automatically JPEG-compressed when imported into Day One. See <a href="https://dayone.zendesk.com/hc/en-us/articles/200145875-Are-photos-resized-when-imported-into-Day-One-">this support article</a>, which says:</p>

<blockquote><p>Every photo imported into Day One is converted to JPEG format and resized to a maximum resolution of 2100 x 2100 pixels. The aspect ratio is maintained. We resize photos for more efficient sync and storage. At this size the average photo is about 700KB which means you can store:
* Dropbox: 2,500+ photos using the free 2GB account
* iCloud: 6,000+ photos using the free 5GB account</p></blockquote>

<p>What the heck. Dude, who cares about storage these days? And transfer rate? I have a gigabit Ethernet. I certainly have much more than 2GB in my Dropbox. Even for those underpriviledged folks with only 2GB, remember, Day One allows <em>only one photo per entry</em>. That’s 2,500+ entries. At any rate, this should be an opt-in rather than an uncustomizable “feature”. I’m about to submit a ticket, but I doubt the outcome (I’m sure many people have submitted tickets about the plain text format even when password-protected, but so far, no response).</p>

<p>With photos, most of the time JPEG compression works pretty well (but people surely want to keep photos in highest quality). However, I’m a techie guy, and my images are often screenshots or precision images, where JPEG compression totally ruins the sharpness.</p>

<p>Workaround? Simple (yet a bit annoying). Day One lets you show the photo in Finder. So just go ahead and replace that compressed image with the original using <code>cp</code> or <code>mv</code>. I shouldn’t have needed to do this, but every piece of software comes with some annoyances. Overall Day One’s pretty good — at least it does what it was designed for, albeit not perfectly.</p>

<hr />

<p>By the way, here is my support ticket:</p>

<blockquote><p>I understand that Day One does JPEG compression to every imported photo, as written in the support article “Are photos resized when imported into Day One?” <a href="http://goo.gl/Rzi017">http://goo.gl/Rzi017</a> . Yet I beg an option. The reason is that the benefits outlined in the support article are virtually non-existent:</p>

<ul>
<li><p>“More efficient sync and storage”: these days transfer rates are really high with SSDs and gigabit Ethernet, so reducing a few hundred KBs won’t help me the slightest;</p></li>
<li><p>“Dropbox: 2,500+ photos using the free 2GB account”: I have much more than 2GB in my Dropbox; even if I only have 2GB, Day One allows only one photo per entry, and that means 2,500+ entries with photos, which is more than enough for most users, I suppose. By the way, Dropbox storage shouldn’t be your concern; people will buy more when they need more.</p></li>
</ul>


<p>And some of the bad things about JPEG compression:</p>

<ul>
<li><p>JPEG compression usually works pretty well with photos, but when I import high precision images, the sharpness is totally ruined;</p></li>
<li><p>People want to keep their photos in highest quality, which is defeated by forced compression.</p></li>
</ul>


<p>I know an ugly workaround, which is simply replace the compressed image with the original in the filesystem. But I would love to see an option to import images as originals (in fact, compression should be an opt-in). Really, transfer rates and storage grow so rapidly that they are not people’s primary concerns anymore. (For your information, OneDrive recently rolled out truly unlimited storage to Office 365 subscribers. Online storage is that cheap.) Thanks.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I Got 16 Gigs of RAM]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/25/i-got-16-gigs-of-ram/"/>
    <updated>2014-11-25T16:28:30-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/25/i-got-16-gigs-of-ram</id>
    <content type="html"><![CDATA[<p>Today I upgraded the RAM of my MacBook Pro mid-2012 to 2x8GB. I purchased the <a href="http://smile.amazon.com/dp/B008LTBJFW">Crucial 16GB Kit (8GBx2) DDR3/DDR3L 1600 MHz (PC3-12800) CL11 SODIMM 204-Pin 1.35V/1.5V Memory for Mac CT2K8G3S160BM</a> from Amazon, which cose me $146.64 after tax. I followed the <a href="http://support.apple.com/en-us/HT201165">official guide</a> as well as the <a href="https://www.ifixit.com/Guide/MacBook+Pro+13-Inch+Unibody+Mid+2012+RAM+Replacement/10374">iFixit guide</a>. To finish the job I needed a Phillips #00 screwdriver and a spudger, so I purchased the <a href="https://www.ifixit.com/Store/Tools/Spudger/IF145-002">spudger</a> and the <a href="https://www.ifixit.com/Store/Tools/54-Bit-Driver-Kit/IF145-022-1">54 bit driver kit</a> from iFixit.</p>

<p>The actual process was pretty simple. I had a little bit of hard time pulling out the bottom module and pushing in the top module, but overall it was smooth. The only stupid thing I did was that I forgot to push the battery connector back in before I closed the case; I only realized this when I was screwing in the eighth screw (that was a close one!), and had to unscrew everything again.</p>

<p>After I replaced the RAM modules, booting was just normal. And now I&rsquo;ve got 16 gigs of RAM!</p>

<p><img src="http://i.imgur.com/PGhdEGr.png" alt="" /></p>

<p>Want to run multiple memory hoggers <em>along with a Windows VM</em> (with 4GB of RAM)? No problem.</p>

<p><img src="http://i.imgur.com/czDcVaK.png" alt="" /></p>

<p>By the way, Yosemite is indeed really aggressive at RAM usage. I reserve my opinion on whether there&rsquo;s a memory leak. But so far the performance has been fine, even with 8GB of RAM.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why I Abandoned MathJax and Fell Back to PDF]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/24/why-i-abandoned-mathjax-and-fell-back-to-pdf/"/>
    <updated>2014-11-24T20:54:36-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/24/why-i-abandoned-mathjax-and-fell-back-to-pdf</id>
    <content type="html"><![CDATA[<p>Recently I wrote an expository article, <a href="http://zmwangx.github.io/pdf/20141119-convolution-of-irreducible-characters.pdf"><em>Convolution of irreducible characters</em></a>, and posted it <a href="http://zmwangx.github.io/blog/2014/11/19/convolution-of-irreducible-characters/">here</a>. At first I intended to use MathJax, but in the end I fell back to good ol&#8217; PDF. Here&rsquo;s why.</p>

<p>In short, I&rsquo;m a mathematician. I write math <em>articles</em>, not just standalone expressions or formulas. I use AMSLaTeX to its fullest (not really, but at least I use numbering and the <code>amsthm</code> package to its fullest). HTML simply wasn&rsquo;t designed for this. Here are two influential markup languages designed for totally different use cases, and bridging them is painful. I tried to use <code>pandoc</code>, but it doesn&rsquo;t support <code>\input</code>, doesn&rsquo;t support <code>\def</code>, and swallows <code>\begin{theorem} \end{theorem}</code>, among other things. I tried to use <code>htlatex</code>; even the MathML output is suboptimal, with many math symbols translated to non-math (apart from totally human-unreadable), and it uses its custom CSS files that don&rsquo;t play well with everything else. I tried other things. In the end I gave up. Maybe I don&rsquo;t know enough about MathJax, but I certainly don&rsquo;t want to write a translator myself. Leave LaTeX alone. Distribute as PDF. MathJax may be great for Wikis (like Wikipedia) and for math lite blogs, but it&rsquo;s no replacement for real, beefy LaTeX. It&rsquo;s not for mathematicians who want to distribute real articles.</p>

<p>By the way, Terry Tao and others use <a href="http://lucatrevisan.wordpress.com/latex-to-wordpress/">Luca&rsquo;s LaTeX to WordPress, aka LaTeX2WP</a> for math blogging. From Terry&rsquo;s experience it works fairly well. I don&rsquo;t know if <code>amsthm</code> and <code>\def</code> are in the feature set, though. Anyway, since WordPress handles LaTeX as pre-compiled images (which is also the default on Wikipedia, and which looks poor in general and plays horribly with scaling), LaTeX2WP won&rsquo;t help MathJax users the slightest.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhone Photography Frustration]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/24/iphone-photography-frustration/"/>
    <updated>2014-11-24T12:42:25-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/24/iphone-photography-frustration</id>
    <content type="html"><![CDATA[<p><strong>TL; DR:</strong> Jump to the paragraph “In the end…”</p>

<hr />

<p>I&rsquo;m not a photo-savvy guy. I&rsquo;ve never taken a single selfie in my life, and my iPhone Photos app witnesses about twenty photos a year — fifteen of which are accidental screenshots. Okay, a little bit of exaggeration. The iPhone, aka iCamera, especially the 6 Plus model, is sort of a waste in my possession. However, my grandparents came to visit me on campus yesterday, and my grandma <em>loves</em> photos. So I took one with them, using my phone (which is obviously better than my grandma’s digital camera). The lighting was wrong, but I was able to fix that in five seconds — clicked “Edit”, clicked on the little sun icon (whatever it is called), clicked on “Light”, slided the slidebar all the way to the right, and all of a sudden it looked perfect. (This is the first time I ever clicked those, but I got it nicely done in five seconds — very intuitive, deeply impressed.) From a layman’s perspective, the builtin edit feature of the Photos app is really smart. Later I tried to reproduce the same edit with iPhoto, but I had to manually wrestle with exposure, highlights, shadows, brightness, contrast, etc., and I just never got it right. Call me a moron if you feel like it, but I’ve already given you the context at the beginning of this article, so you can’t blame me. (For your reference, I do ’shop some images for fun and profit from time to time, but I never deal with actual unedited photos, so I never have to worry about exposure and stuff.)</p>

<p>So far so good. The frustation began when I try to import the photo to my Mac. I’m certainly not a mobile guy who keeps everything on his phone or the cloud. I have the photo import feature of Dropbox turned on, so as I plugged in my phone the photo already appearred in the Camera Upload folder. Wait what, two copies? Two copies that looked exactly the same, albeit one is about 0.1 MB larger than the other? Not cool. Pulled up Image Capture; Apple’s own software should do the trick, I guess. Nope, same thing. Googled, found this article on support.apple.com: <a href="http://support.apple.com/en-us/HT203612"><em>iOS: Edited photos show original photo after import or in other apps</em></a>. Okay sure, they know this. Let&rsquo;s listen to what they have to say.</p>

<blockquote><p>Apple uses Extensible Metadata Platform (XMP), a standard created by Adobe, for nondestructive photo editing. XMP allows you to undo edits and to revert back to an original photo without the loss of quality. Displaying the edited photo requires OS X v10.9 or later and software that can read XMP. The following applications support XMP:</p>

<ul>
<li>iPhoto 9.5 or later</li>
<li>iPhoto for iOS</li>
<li>Aperture 3 or later</li>
<li>Adobe Lightroom</li>
<li>Adobe Photoshop Elements</li>
</ul>


<p>Other photo-management applications and some iOS apps may also display XMP.</p></blockquote>

<p>Adobe Lightroom, oh well. I don’t yet have Adobe CC installed — Photoshop is certainly a powerhouse (plus Illustrator, InDesign, etc. are nice to have at times), but Pixelmator works fine for me most of the time, and I’m happy to go to a library iMac or Mac Pro when I do need the power; $29.99/$19.99 is just too much if I use it twice a month. I theorize that I can indefinitely extend the free trial by running CC in a VM, reverting to a clean snapshot and regenerating the MAC address from time to time, but that’s only a theory — I haven’t got the incentive to test it out. As for iPhoto, I know it’s pretty lame from past experience, and I was very much baffled by the ugly and unintuitive UI, so normally I don’t even want to waste disk space on it; but since it’s only official solution other than expensive Adobe products and Aperture, I decided to install it. 1.7 GB gone. <em>So does the wasted 1.7 GB do the trick? Sadly, no.</em> Still the same thing in iPhoto 9.6, which is clearly “iPhoto 9.5 or later”. Totally baffled.</p>

<p>In the end, I came up with an ugly solution. Just email or iMessage the photo to yourself from the phone. If you use email though, be sure to use the builtin Mail, or you would likely lose Exif data (I sent from Mailbox and lost Exif; I then sent from Mail and didn’t). This is really annoying since setting up accounts in the builtin Mail app is not fun — Google 2FA is not supported, and I have to generate an app-specific password. Compare to Mailbox, where <em>I signed into Dropbox on the new phone and within five seconds all of my ten email accounts are ready to use</em>. The loss of Exif data is probably related to <a href="http://stackoverflow.com/questions/20763814">this thread on SO</a>, but I didn’t delve into it since I’m not a Cocoa Touch dev. What’s more confusing, sending the photo via different applications result in different filesizes. The one sent from Mail (I chose original size when I sent it) was a 2 MB JPEG; the one sent from Mailbox was a 4.5 MB JPEG (without the right Exif); and the one sent via iMessage and later opened from the Messages app on Yosemite could be saved as a 10 MB lossless PNG (Exif was there). I went with the 2 MB one in the end.</p>

<p>I don’t know if iCloud Photo Library will solve the problem in the end. From my perspective, <em>Apple should train Preview and QuickLook to recognize their XMP technology.</em> Seriously, they talk about continuity, and I expect to enjoy my enhanced photos on my Mac without going through all the hessle and confusion. Photo enhancing is already such a breeze, thank you; now make sharing and archiving easy, at least within the Apple ecosystem. (Although I’m not familiar with photography and image editing in general, considering how tech-savvy I am, I bet most users can’t even figure out one annoying solution.)</p>

<p>By the way, Continuity and Handoff only work intermittently for me, and AirDrop between my iPhone (6 Plus) and MacBook Pro (mid-2012, model 9,2) doesn’t work at all. Continuity and Handoff sometimes turn up when they are unexpected (and serve as kinda nice surprises), but when I try to nail them, they remain elusive. Not a big deal for me, but certainly not the most pleasant thing ever. I bet these have to do with the fact that my Mac is connected to Ethernet and sharing the Ethernet connection to my iPhone; these days they expect everyone to be on Wi-Fi (and ironically they messed up big in Yosemite), but Wi-Fi simply can’t beat the speed and stability of Ethernet. I didn’t bother to test whether the features work when my devices are connected to the same Wi-Fi network; even if they do, that’s not my production setup, so they’re still useless to me.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Dropbot for Geeks®]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/20/dropbot-for-geeks(r)/"/>
    <updated>2014-11-20T09:48:15-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/20/dropbot-for-geeks(r)</id>
    <content type="html"><![CDATA[<p>I propose the following cloud storage and syncing service model of the future. I call it <strong>Dropbot for Geeks®</strong>, and it totally rules. It&rsquo;s designed for geeks who are tired of the highly limited, miserably unproductive traditional services (based on clicking around). It has the following features:</p>

<ul>
<li><p>Standard Unix file system commands exposed as an API, e.g., <code>cat</code>, <code>cd</code>, <code>cp</code>, <code>du</code>, <code>df</code>, <code>file</code>, <code>find</code>, <code>head</code>, <code>ln</code>, <code>ls</code>, <code>mkdir</code>, <code>mv</code>, <code>pwd</code>, <code>rm</code>, <code>rmdir</code>, <code>tail</code>, <code>touch</code>, etc.</p></li>
<li><p>A rudimentary shell emulator through the web interface exposing the commands above.</p></li>
<li><p>Secure shell access to the file system, also exposing the commands above. Provide two-factor auth for SSH. Clearly, <code>scp</code> should also be supported.</p></li>
<li><p>Checksums. Expose, for instance, <code>md5sum</code> or <code>sha1sum</code>, in the API. Provide checksums on download pages, probably on demand.</p></li>
<li><p>Programmable selective syncing, down to per file level.</p></li>
<li><p>Scriptability. Allow clients to run custom scheduled jobs or daemons with the API above. To prevent the service from becoming full-featured IaaS, though, clients might be limited in CPU time, memory, or command selection. This bullet point is arguable.</p></li>
</ul>


<hr />

<p>With the level of command line integration illustrated above, we&rsquo;ll finally get rid of clicking around and not being able to automate chores. Navgating the remote file system will be a breeze — click, click, click, click, click (sometimes click should be replaced by double click, which is even more painful) just to navigate to a directory will be made a thing of the past. <code>ln</code>, in particular, saves disk space for duplicates — Dropbot for Geeks does <em>not</em> want to charge you extra for multiple copies of the same file in different directories. (To facilitate syncing hardlinks, clients should be able to specify hardlinked files in a config file. Or maybe some better mechanism. This might be hard.) At last, checksums are a must. I’ve had traumatic experiences like having downloaded an eight-part RAR, 1 GiB each, only to find that it wouldn’t unRAR. Without checksums, it was impossible to find which part was corrupted. As a result, I had to re-download everything — a nightmare. I never want to experience similar problems again. Hence the precious checksums.</p>

<p>Dropbot for Geeks looks like a pretty good (well, not really, but at least pretty cool®) model. Maybe I should patent it before anyone else? Then if some similar service surfaces in the future, I can <a href="http://arstechnica.com/tech-policy/2014/11/jury-apple-must-pay-23-6m-for-old-pager-patents/">sue their ass off and enjoy some hot cash</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Convolution of Irreducible Characters]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/19/convolution-of-irreducible-characters/"/>
    <updated>2014-11-19T20:40:37-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/19/convolution-of-irreducible-characters</id>
    <content type="html"><![CDATA[<p><strong><em>TL; DR:</em> The actual PDF write-up is <a href="http://zmwangx.github.io/pdf/20141119-convolution-of-irreducible-characters.pdf">here</a>.</strong></p>

<hr />

<p>Yesterday I was trying to establish the formula for orthogonal primitive central idempotents of a group ring. It is possible to establish the result through the convolution of irreducible characters. However, I stuck quite a while on trying to work out the convolutions themselves. For a formidable and unenlightening proof using &ldquo;matrix entry functions&rdquo; (i.e., fix a basis, induce a matrix representation, and explicitly expand everything in matrix elements), see <a href="http://drexel28.wordpress.com/2011/03/02/representation-theory-using-orthogonality-relations-to-compute-convolutions-of-characters-and-matrix-entry-functions/">this post</a> (in fact, this is just one in a series of posts that lead up to the result). That&rsquo;s a really sad proof.</p>

<p>It turns out that I really should have been working the other way round &mdash; first establish the orthogonal idempotents (the proof of which is really simple and elegant, I was just trapped in a single thread of thought), then use that to compute the convolution of irreducible characters.</p>

<p>I feel like this is worth presenting (as the only proof I saw online is the really sad one above), so I TeX&#8217;ed it up. I tried to convert to MathJax HTML but eventually gave up (that&rsquo;s the story for another post). So, the write-up is in good ol&#8217; PDF, available <a href="http://zmwangx.github.io/pdf/20141119-convolution-of-irreducible-characters.pdf">here</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Re-encoding Everything for iPhone 6 Plus]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/11/re-encoding-everything-for-iphone-6-plus/"/>
    <updated>2014-11-11T13:31:25-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/11/re-encoding-everything-for-iphone-6-plus</id>
    <content type="html"><![CDATA[<p>AT&amp;T finally delivered my iPhone 6 Plus (silver, 64 GB) after about fifty days since preorder… The 1080p Retina display is simply stunning. However, it turns out that my old videos don’t work so well on 6 Plus’s giant screen. My old mobile video collection was optimized for my 16 GB 4S, targeting the small screen and highly limited storage — you guessed it, they were resized to 960x540, and they looked great. But they’re not up to the task any more. 960x540 videos aren’t at all sharp on the stunning screen of 6 Plus, which is more than capable of handling 4x pixels. Therefore, I have no choice but to feed it more pixels. I’m left in a weird situation, where my 1080p desktop (or even HDTV) quality videos should fit the screen just fine, but H.264 profile stands in the way. iPhone 6 and 6 Plus are only capable of High Profile level 4.2, so anything encoded in level 5.1, for instance, needs to be re-encoded. Also there are still MPEG-2 and MPEG-4 videos out there (MPEG-4 should be obsolete by now, I assume, but some people still use it; and MPEG-2 is de facto in TV broadcasts), which have to be transcoded. Okay, it’s a daunting task to re-encode a fairly big collection, but I have to do it sooner or later. Presumably this weekend. I’ll also report whether 720p videos look sharp on the screen later.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Average Phone Plan in the U.S. Costs Ten Time as Much as That in the U.K.]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/10/average-phone-plan-in-the-u-dot-s-costs-ten-time-as-much-as-that-in-the-u-dot-k/"/>
    <updated>2014-11-10T11:11:46-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/10/average-phone-plan-in-the-u-dot-s-costs-ten-time-as-much-as-that-in-the-u-dot-k</id>
    <content type="html"><![CDATA[<p>To quote <a href="http://blogs.opera.com/news/2014/11/mobile-data-anyway/">Opera News</a>,</p>

<blockquote><p>According to research by the International Telecommunication Union, the average phone plan with 500MB of data costs $85 in the United States, compared to $24.10 in China and $8.80 in the United Kingdom.</p></blockquote>

<p>Holy shit!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Interstellar]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/07/interstellar/"/>
    <updated>2014-11-07T23:56:31-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/07/interstellar</id>
    <content type="html"><![CDATA[<p>Today (I mean November 7, 2014 — it’s technically November 8 at the time of writing) I saw <a href="https://en.wikipedia.org/wiki/Interstellar_%28film%29"><em>Interstellar</em></a> (IMAX digital) at AMC Mercado 20. I rarely go to movie theaters, less on the release day (film formats of <em>Interstellar</em> were released on November 5, and digital formats followed on November 7). However, reviews of it were positive (from the physics community), and I really need a way to release stress these days — I wasn’t in the right condition for months. So I figured I’d just spend an afternoon in front of the big screen.</p>

<p>I’ve heard good things about IMAX 70mm film, like no trailers, among other things. But I didn’t bother the extra seven miles’ drive to Hackworth IMAX Dome, so I landed on IMAX digital. Still a pretty stunning experience, although I ended up watching forty minutes worth of trailers before the real thing (arrived fifteen minutes early). In hindsight maybe I’d be better off spending some extra time on the road.</p>

<p>Speaking of the movie itself, they tried to make it as plausible as possible from a physics viewpoint, by involving <a href="https://en.wikipedia.org/wiki/Kip_Thorne">Kip Thorne</a> of Caltech. (There’s even a book out, <em>The Science of Interstellar</em>.) For instance, the wormhole isn’t portrayed as a hole (I mean, imagine a ring in empty space, as you would picture in your mind when you hear the word “hole” out of nothing; that’s not how it looks like here, and there’s a nice explanation). Some of the physics still doesn’t work out quite well, though, like Cooper’s not crushed at the singularity… Also there are communications from within the horizon and breakdown of causality, explained in the movie as happening in four dimension slices of some five dimensional spacetime where time could be a physical dimension. Obviously these are needed to get the sci-fi story going, so no one should be blamed.</p>

<p>I was there for the sci-fi and physics, but a nice surprise was that I was also touched by the humanity elements of story, I mean, family and stuff.</p>

<p>The downside: Cooper’s accent was a bit hard on me ☹</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2014 Nobel Prize in Physics — LED Lights, Seriously?]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/06/2014-nobel-prize-in-physics-led-lights-seriously/"/>
    <updated>2014-11-06T11:08:45-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/06/2014-nobel-prize-in-physics-led-lights-seriously</id>
    <content type="html"><![CDATA[<p>For some reason, I only learned about this year’s laureates today, through <a href="http://motls.blogspot.com/2014/11/ex-employer-wont-meet-blue-led-nobel.html">the reference frame</a>. The prize goes to the inventors of the LED. Not exciting at all, so I don’t care if I’m ever informed. (Lubos has a good point on why applied physics — well, let’s even widen the concept of applied physics a bit — should not surprise anyone when they appear in a Nobel Prize announcement: “After all, Alfred Nobel might have very well considered his dynamite to be a discovery in physics, too.”)</p>

<p>The Nobel Prize Physics Awards has been rather amusing in recent years. Partly due to controversy on the theoretical front and no breakthrough on the experimental front, I guess. (The discovery of Higgs was a breakthrough to some extent, but it was totally expected; little physics beyond SM at LHC before LS1 is sad. Since it was totally expected, the award went to theorists — some experimentalists might not be too thrilled.) Just look at the recent list: 2010, graphene (shouldn’t that be chemistry? if material science can be part of physics, then chemistry must surely encompass it, too); 2009, CCD sensor (whatever that means, maybe that’s important); 2008, fibers (okay, I love fast Internet connections). The list actually goes all the way down to early 20th century, but it’s much denser in recent decades. Now one more: 2014, LED.</p>

<blockquote><p>“for the invention of efficient blue light-emitting diodes which has enabled bright and energy-saving white light sources”</p></blockquote>

<p>Wow, energy-saving. I guess next year’s prize will go to the inventors of high efficiency urinals, for being resource-saving.
<strong>I mean, LEDs are great, but not great as physics, much less a physics breakthrough.</strong></p>

<p>Let’s compare the applied folks to other laureates: Lorentz, J. J. Thomson, Planck, Einstein, Bohr, Heisenberg, Schrödinger, Dirac, Fermi, Pauli, Born, Lee, Yang, Landau, Feynman, Schwinger, Gell-Mann, Weinberg, ’t Hooft, etc. Not on the same level.</p>

<p>It’s good to see that a growing body of physicists are (or at least as it seems to me) increasingly reserved about the Nobel Prize, and prizes in general. Same goes for math, with the Nobel Prize replaced by something else. (Employers still love the big titles, I suppose — good to have some star faculty on board.)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Apple Is Pushing Yosemite Hard]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/05/apple-is-pushing-yosemite-hard/"/>
    <updated>2014-11-05T22:17:01-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/05/apple-is-pushing-yosemite-hard</id>
    <content type="html"><![CDATA[<p>Apple is pushing Yosemite hard and secretly Yosemitizing things. iTunes was updated to its shiny new look on Mavericks, day one upon Yosemite launch. I liked it. The only problems I had with the new iTunes are:</p>

<ul>
<li><p>It&rsquo;s no longer possible to go to the Artists view and Music Videos view with one click. Artists is now a drop-down menu option in My Music view; Music Videos is now a sidebar tab in Playlists view.</p></li>
<li><p>The red icon doesn&rsquo;t look as good as the previous blue one, and it doesn&rsquo;t harmonize too well alongside the blue Finder and Mail. Maybe they will look better together in Yosemite.</p></li>
</ul>


<p>Just now I found that the Mac App Store in Mavericks is also Yosemitized:</p>

<p><img src="http://i.imgur.com/T7KIo6s.png" alt="Yosemitized Mac App Store" /></p>

<p>The chromeless UI certainly looks a bit weird, and the font seems a bit too small. However, I&rsquo;m sure I&rsquo;ll quickly get over these shortcomings, and might even grow to appreciate them. Even more so when I finally upgrade to Yosemite (I&rsquo;ll wait for Thanksgiving break or 10.10.1 this year, whichever comes first — looks like the former will come first, considering the first 10.10.1 developer beta was out <a href="http://www.macrumors.com/2014/11/03/first-yosemite-10-10-1-beta-now-available/">merely two days ago</a>, <a href="http://i.imgur.com/IVFV7E2.png">reportedly</a> focusing on WiFi, etc.).</p>

<p>On the font side, unfortunately the small font size in the new Mac App Store does make text fuzzy on my non-Retina display. I didn&rsquo;t notice the fuzziness in the new iTunes. Anyway, everything is optimized for Retina — Apple is also secretly pushing Retina hard. In the Apple ecosystem, apparently you always want to stay at the top of the line. Due to Apple&rsquo;s nature, the degree of hardware-software integration is simply unparalleled, so only the latest hardware enjoys all the new features and love. Unfortunately, the typical lifespan of a Mac is much longer than the hardware/software release cycle.</p>

<p>The truth is, we (or at least I) adapt to things much quicker and easier than we&rsquo;d imagined (or otherwise would be willing to admit). When iOS 7 was demo&#8217;ed on WWDC 2013, I was like &ldquo;no way! What&rsquo;s with those stupid flat crap?&rdquo; But when the update came, I hopped on and was happy ever since. (I reserve my opinion on the icon design.) Later when I installed an app that was not updated for the new UI, I was like &ldquo;OMG, what&rsquo;s with this clumsy UI?&rdquo; I guess legibility issues, WiFi issues (with Yosemite) and responsiveness issue (with iOS 8 on iPhone 4S — <em>AT&amp;T, where&rsquo;s my preordered 6 Plus?</em>) are harder to impossible to adapt to, but they will eventually be fixed, or support-dropped, or hardware-upgraded (with $$). So in the end (almost) everyone will be happy. And one day when we face the old thing again by chance, we&rsquo;ll flee as fast as we can: &ldquo;what&rsquo;s with that&hellip;&rdquo; (I did exaggerate. Also, I know, many people just don&rsquo;t care about design, or have ill tastes, or can&rsquo;t find the buttons after a minimal number of UI tweaks — I&rsquo;m not including them in the &ldquo;we&rdquo; here.) Those who claim that &ldquo;I won&rsquo;t upgrade until&hellip;&rdquo; are just kidding themselves, and certainly no one will wait for them or make their &ldquo;until&hellip;&rdquo; come true. Most of those &ldquo;won&rsquo;t upgrade&rdquo; folks will eventually upgrade and be happy. For those that really don&rsquo;t upgrade (like those still running Snow Leopard) either can&rsquo;t afford the new hardware, or suffer from senility (seen from the deep hostility towards new things). Or they have some important legacy software that would break with an upgrade; poor dudes.</p>

<p>Same goes for newer, shinier, seemingly unnecessary deluxe hardware. I&rsquo;m still stuck on a Mid-2012 MBP 13&#8221; Non-Retina. Retina seems highly useless for me since I do most of my work on the 27&#8221; external display — the 13&#8221; internal LCD hosts a single maximized Activity Monitor window most of the time (and sometimes also a Transmission window). I expect my opinion about Retina to change after I upgrade to a Retina model next year. (It will be a pretty major purchase though — i7, 16 GB memory, and 512 GB SSD are musts, and there are like a million peripherals to buy — Thunderbolt to Ethernet, Super Drive, etc., etc.) This shift of opinion after upgrading to something unnecessarily good (and ending up not being able to tolerate anything inferior) is best described as &ldquo;<strong>sadly converted</strong>&rdquo;. Some folks are already sadly converted by the Retina iMac. See, for example, <a href="http://arstechnica.com/apple/2014/11/yes-the-5k-retina-imacs-screen-runs-at-60hz-at-5k-resolution/#p11">this article</a> on Ars Technica:</p>

<blockquote><p>Prior to getting the Retina iMac on my desk, I would have said that &ldquo;retina&rdquo; isn’t necessarily something we need on the desktop. Most people don’t notice pixels on the desktop at a normal seating distance. However, after getting to A/B compare the Retina iMac with the standard one over the course of a week, I’m sadly converted. I just don’t know if my wallet can take the abuse.</p></blockquote>

<p>And others are bitterly desiring one (me included — sadly two Mac are too much for a university dorm). See, for example, <a href="http://arstechnica.com/apple/2014/11/yes-the-5k-retina-imacs-screen-runs-at-60hz-at-5k-resolution/?comments=1&amp;post=27896871">this comment</a> on the aforementioned article:</p>

<blockquote><p>I WISH APPLE TECHNICA WOULD STOP WITH ALL THESE ARTICLES ABOUT THE IMAC.</p>

<p>It really makes me want one unjustifiably.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[List YouTube Playlist With Youtube-dl]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/05/list-youtube-playlist-with-youtube-dl/"/>
    <updated>2014-11-05T10:37:58-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/05/list-youtube-playlist-with-youtube-dl</id>
    <content type="html"><![CDATA[<p>Of course you are always welcome to use the <a href="https://developers.google.com/api-client-library/python/">Google APIs Client Library for Python</a> to wrestle with YouTube, which is usually pretty simple. (As an added bonus, YouTube has some <a href="https://developers.google.com/youtube/v3/code_samples/">nice runnable sample scripts</a> to get you started.) With the client library, listing videos in a YouTube playlist is a breeze.</p>

<p>However, if you don&rsquo;t feel like writing code yourself (I usually don&rsquo;t feel like writing code myself until I use something often enough and existing solutions are suboptimal), <code>youtube-dl</code> recently added the functionality to list videos in a playlist with the <code>--flat-playlist</code> option.</p>

<p><a href="https://github.com/rg3/youtube-dl/issues/4003#issuecomment-60322630">According to one of the project collaborators</a>, currently <code>--flat-playlist</code> is only helpful with the <code>-j</code> option for dumping JSON (so I suppose this feature is subject to change). For instance, <code>--flat-playlist</code> alone would emit something like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; youtube-dl --flat-playlist <span class="s1">&#39;https://www.youtube.com/watch?v=gdOwwI0ngqQ&amp;list=PLPpZI8R1zUfrkDbmJMOBhEbJ9Td9vbV-F&#39;</span>
</span><span class='line'><span class="o">[</span>youtube:playlist<span class="o">]</span> Downloading playlist PLPpZI8R1zUfrkDbmJMOBhEbJ9Td9vbV-F - add --no-playlist to just download video gdOwwI0ngqQ
</span><span class='line'><span class="o">[</span>youtube:playlist<span class="o">]</span> PLPpZI8R1zUfrkDbmJMOBhEbJ9Td9vbV-F: Downloading webpage
</span><span class='line'><span class="o">[</span>youtube:playlist<span class="o">]</span> PLPpZI8R1zUfrkDbmJMOBhEbJ9Td9vbV-F: Downloading page <span class="c">#1</span>
</span><span class='line'><span class="o">[</span>download<span class="o">]</span> Downloading playlist: Cam By apinknomfan
</span><span class='line'><span class="o">[</span>youtube:playlist<span class="o">]</span> playlist Cam By apinknomfan: Collected <span class="m">119</span> video ids <span class="o">(</span>downloading <span class="m">119</span> of them<span class="o">)</span>
</span><span class='line'><span class="o">[</span>download<span class="o">]</span> Downloading video <span class="c">#1 of 119</span>
</span><span class='line'><span class="o">[</span>download<span class="o">]</span> Downloading video <span class="c">#2 of 119</span>
</span><span class='line'><span class="o">[</span>download<span class="o">]</span> Downloading video <span class="c">#3 of 119</span>
</span><span class='line'><span class="o">[</span>download<span class="o">]</span> Downloading video <span class="c">#4 of 119</span>
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>which doesn&rsquo;t really make sense — it tells you that it collected 119 video ids, and no more. Once you have <code>-j</code> on, you get JSON data that you can parse with anything:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; youtube-dl -j --flat-playlist <span class="s1">&#39;https://www.youtube.com/watch?v=gdOwwI0ngqQ&amp;list=PLPpZI8R1zUfrkDbmJMOBhEbJ9Td9vbV-F&#39;</span>
</span><span class='line'><span class="o">{</span><span class="s2">&quot;url&quot;</span>: <span class="s2">&quot;gdOwwI0ngqQ&quot;</span>, <span class="s2">&quot;_type&quot;</span>: <span class="s2">&quot;url&quot;</span>, <span class="s2">&quot;ie_key&quot;</span>: <span class="s2">&quot;Youtube&quot;</span>, <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;gdOwwI0ngqQ&quot;</span><span class="o">}</span>
</span><span class='line'><span class="o">{</span><span class="s2">&quot;url&quot;</span>: <span class="s2">&quot;j9l5nchv1Z8&quot;</span>, <span class="s2">&quot;_type&quot;</span>: <span class="s2">&quot;url&quot;</span>, <span class="s2">&quot;ie_key&quot;</span>: <span class="s2">&quot;Youtube&quot;</span>, <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;j9l5nchv1Z8&quot;</span><span class="o">}</span>
</span><span class='line'><span class="o">{</span><span class="s2">&quot;url&quot;</span>: <span class="s2">&quot;znW5ALwWNQw&quot;</span>, <span class="s2">&quot;_type&quot;</span>: <span class="s2">&quot;url&quot;</span>, <span class="s2">&quot;ie_key&quot;</span>: <span class="s2">&quot;Youtube&quot;</span>, <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;znW5ALwWNQw&quot;</span><span class="o">}</span>
</span><span class='line'><span class="o">{</span><span class="s2">&quot;url&quot;</span>: <span class="s2">&quot;qyE7-auTIcc&quot;</span>, <span class="s2">&quot;_type&quot;</span>: <span class="s2">&quot;url&quot;</span>, <span class="s2">&quot;ie_key&quot;</span>: <span class="s2">&quot;Youtube&quot;</span>, <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;qyE7-auTIcc&quot;</span><span class="o">}</span>
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>The most straightforward way to parse this is to use a command line JSON parser, the best one being <a href="https://github.com/stedolan/jq">jq</a>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; youtube-dl -j --flat-playlist <span class="s1">&#39;https://www.youtube.com/watch?v=gdOwwI0ngqQ&amp;list=PLPpZI8R1zUfrkDbmJMOBhEbJ9Td9vbV-F&#39;</span> <span class="p">|</span> jq -r <span class="s1">&#39;.id&#39;</span> <span class="p">|</span> sed <span class="s1">&#39;s_^_https://youtube.com/v/_&#39;</span>
</span><span class='line'>https://youtube.com/v/gdOwwI0ngqQ
</span><span class='line'>https://youtube.com/v/j9l5nchv1Z8
</span><span class='line'>https://youtube.com/v/znW5ALwWNQw
</span><span class='line'>https://youtube.com/v/qyE7-auTIcc
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>There you go, a list of URIs you can use. Of course you can put this in a script to save some typing:</p>

<figure class='code'><figcaption><span>youtube-ls-playlist.sh</span><a href='https://gist.github.com/zmwangx/0245788475f963210ed9'>Gist</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/usr/bin/env bash</span>
</span><span class='line'><span class="c"># Takes a YouTube URI to a playlist (fairly liberal, it&#39;s fine as long</span>
</span><span class='line'><span class="c"># as the playlist id can be extracted), and prints a list of URIs in a</span>
</span><span class='line'><span class="c"># YouTube playlist.</span>
</span><span class='line'><span class="c">#</span>
</span><span class='line'><span class="c"># Requires youtube-dl 2014.10.24, tested on youtube-dl</span>
</span><span class='line'><span class="c"># 2014.11.02.1. Feature subject to change.</span>
</span><span class='line'>youtube-dl -j --flat-playlist <span class="s2">&quot;$1&quot;</span> <span class="p">|</span> jq -r <span class="s1">&#39;.id&#39;</span> <span class="p">|</span> sed <span class="s1">&#39;s_^_https://youtube.com/v/_&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong><em>Aside:</em></strong> I first embedded the gist here, but <a href="http://i.imgur.com/m3cr0Im.png">it looked a bit off</a>. See <a href="https://github.com/imathis/octopress/issues/1392">imathis/octopress#1392</a>.</p>

<blockquote><p>In the next version of the Gist tag plugin we are just downloading the gists and embedding them upon generation so we don&rsquo;t have to worry about GitHub going down and breaking all your gists, or changing the HTML and breaking all the styles.</p>

<p>For the time being I suggest embedding your code snippets directly if you want them to look good.</p></blockquote>

<p>Okay. End of aside.</p>

<p>By the way, <code>youtube-dl</code> supports playlist bulk download natively. The reason I need a list of video ids or URIs, however, is that among other things, <code>youtube-dl</code> doesn&rsquo;t download highest resolution DASH video by default, so I have to rely on something like <code>youtube-dl-dash</code> (<a href="https://github.com/zmwangx/sh/blob/master/youtube-dl-dash">link</a>) to download the best version.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vobcopy, Dvdbackup, Etc.]]></title>
    <link href="http://zmwangx.github.io/blog/2014/11/02/vobcopy-dvdbackup-etc/"/>
    <updated>2014-11-02T15:06:07-08:00</updated>
    <id>http://zmwangx.github.io/blog/2014/11/02/vobcopy-dvdbackup-etc</id>
    <content type="html"><![CDATA[<p>A few days ago, I was cloning my entire Audio CD and DVD collection, and reported some of the findings in <a href="http://zmwangx.github.io/blog/2014/10/26/audio-cd-slash-dvd-to-iso-image-on-os-x/">this post</a>. As said, the most important commands are</p>

<pre><code>hdiutil makehybrid -iso -joliet -o AUDIO_CD_NAME.iso SOURCE
</code></pre>

<p>for Audio CDs and</p>

<pre><code>hdiutil makehybrid -udf -o DVD_NAME.iso SOURCE
</code></pre>

<p>for DVDs.</p>

<p>Those alone don&rsquo;t finish the story. I also tried other things and unfortunately encountered problems. I was too busy to report back then, but now I&rsquo;ll summarize some of the findings.</p>

<hr />

<p>For one thing, <code>hdiutil makehybrid</code> might fail, issuing an &ldquo;Operation not permitted&rdquo; for no obvious reason. This could even happen when you work with the Disk Utility GUI (for which I once got a &ldquo;Permission denied&rdquo;). Even <code>sudo</code> didn&rsquo;t help in my case. However, I was able to <strong>circumvent the problem with the root shell</strong> (I won&rsquo;t tell you how to enter the root shell — you need to at least have that amount of knowledge about the root shell before you are given the key). Not sure why. Just keep in mind that the root shell might help (that&rsquo;s also a general, albeit dangerous, advice for life).</p>

<hr />

<p>Next onto grabbing the raw VOB.</p>

<p><code>vobcopy</code> is pretty sweet, but at least for me it had one huge problem. When I tried to copy a single title, say title #2 with</p>

<pre><code>vobcopy --title-number TITLE_NUMBER -i SOURCE
</code></pre>

<p>other titles got copied, too. I didn&rsquo;t have enough samples to test out, but presumably it&rsquo;s because the problematic DVD has a structure like this:</p>

<p><img src="http://i.imgur.com/HTgmwQL.png" alt="problematic DVD title structure" /></p>

<p>Anyway, no matter I <code>vobcopy</code> title 01, 02, or 03, the result was the same — the whole thing. That&rsquo;s pretty stupid. I don&rsquo;t know if it counts as a bug or unfinished feature. Definitely not cool.</p>

<p>(One cool thing about <code>vobcopy</code>: as long as you complied with <code>libdvdread</code>, you can create a fully decrypted version of the DVD with</p>

<pre><code>vobcopy --mirror -i SOURCE
</code></pre>

<p>Of course, to get an iso image out of the decrypted mirror, you run the <code>hdiutil makehybrid -udf</code> command given above.)</p>

<hr />

<p>So <code>vobcopy</code> is dead (for copying specific titles in unfortunate DVDs). What&rsquo;s next?</p>

<p>There&rsquo;s <code>dvdbackup</code>. The man page is good, and <a href="https://wiki.archlinux.org/index.php/dvdbackup#A_single_title">ArchWiki</a> is even better (<em>ArchWiki is awesome!</em>), providing you cookbook solutions of combining the power of <code>dvdbackup</code> and <code>dvdauthor</code> (cookbooks are nice when dealing with unexciting technologies like DVD). In fact, <code>dvdbackup</code> alone is enough for extracting the VOBs of relatively small titles (&lt; 1GiB):</p>

<pre><code>dvdbackup -i SOURCE -o VOB_TARGET_DIR -t TITLE_NUMBER -n TITLE_NAME
</code></pre>

<p>then grab your title-specific VOB in <code>VOB_TARGET_DIR/TITLE_NAME/VIDEO_TS</code>. Unlike <code>vobcopy</code>&rsquo;s <code>-n/--title-number</code> option, <code>dvdbackup</code>&rsquo;s <code>-t/--title</code> option does it right, trimming everything else. However, there&rsquo;s a problem when the title is larger than 1 GiB — then <code>dvdbackup</code> will split the VOB into several 1 GiB max pieces, and there&rsquo;s no way to disable this (since <code>dvdbackup</code> is targeting a DVD player — ancient technology — rather than <code>mpv</code> or whatever). What&rsquo;s sadder is that I can&rsquo;t seem to combine the split VOBs with FFmpeg stream copy — <code>pcm_dvd</code> audio always gets converted to <code>mp2</code> and fails when I use <code>-c copy</code>. I&rsquo;m not a codec expert, but I suppose this is due to the fact that <code>pcm_dvd</code> isn&rsquo;t a supported encoding codec of FFmpeg (at least not my FFmpeg):</p>

<pre><code>&gt; ffmpeg -codecs | grep pcm_dvd
D.A..S pcm_dvd              PCM signed 20|24-bit big-endian
</code></pre>

<p><code>D</code> is for &ldquo;Decoding supported&rdquo;, <code>A</code> is for &ldquo;Audio codec&rdquo;, <code>S</code> is for &ldquo;Lossless compression&rdquo; — no encoding support. By the way, my FFmpeg is <code>brew</code>ed with the options <code>--with-fdk-aac</code>, <code>--with-ffplay</code>, <code>--with-freetype</code>, <code>--with-libass</code>, <code>--with-libbluray</code>, <code>--with-openjpeg</code>, <code>--with-openssl</code>, <code>--with-x265</code>:</p>

<pre><code>&gt; \ffmpeg -version
ffmpeg version 2.4.2 Copyright (c) 2000-2014 the FFmpeg developers
built on Oct 19 2014 14:09:36 with Apple LLVM version 6.0 (clang-600.0.51) (based on LLVM 3.5svn)
configuration: --prefix=/usr/local/Cellar/ffmpeg/2.4.2 --enable-shared --enable-pthreads --enable-gpl --enable-version3 --enable-nonfree --enable-hardcoded-tables --enable-avresample --enable-vda --cc=clang --host-cflags= --host-ldflags= --enable-libx264 --enable-libfaac --enable-libmp3lame --enable-libxvid --enable-libfreetype --enable-libass --enable-ffplay --enable-libfdk-aac --enable-openssl --enable-libx265 --enable-libopenjpeg --disable-decoder=jpeg2000 --extra-cflags='-I/usr/local/Cellar/openjpeg/1.5.1_1/include/openjpeg-1.5 '
libavutil      54.  7.100 / 54.  7.100
libavcodec     56.  1.100 / 56.  1.100
libavformat    56.  4.101 / 56.  4.101
libavdevice    56.  0.100 / 56.  0.100
libavfilter     5.  1.100 /  5.  1.100
libavresample   2.  1.  0 /  2.  1.  0
libswscale      3.  0.100 /  3.  0.100
libswresample   1.  1.100 /  1.  1.100
libpostproc    53.  0.100 / 53.  0.100
</code></pre>

<p>Maybe I missed some <code>--enable</code>.</p>

<p>Sorry for the digression. So, it&rsquo;s not possible to stream-copy-concat the VOBs with FFmpeg. (In fact, since audio quality is not that important — you won&rsquo;t be able to tell 256k AAC from lossless anyway, especially when you are focusing on the video, so you can always transcode <code>pcm_dvd</code> into 256k AAC with <code>-c:a libfdk_aac -b:a 256k</code>. <code>mpeg2video</code> is an encoding supported codec so stream copy works fine. Or you may also use <code>flac</code> or whatever encoding-supported lossless codec.) However, if you insist on getting the original <code>pcm_dvd</code>, there is a way, an ugly way. You&rsquo;ve gotta be creative here. <a href="https://wiki.archlinux.org/index.php/dvdbackup#A_single_title">ArchWiki</a> already provides a cookbook solution on how to use <code>dvdbackup</code> and <code>dvdauthor</code> to create a DVD with a selected title. And <code>vobcopy</code> can copy the entire thing just fine, without the 1 GiB limit (make sure to use the <code>-l/--large-file</code> option if the size is greater than 2 GiB). Therefore, you can create a DVD with selected title from the original DVD, then <code>vobcopy</code> from the new DVD. This is insane, but it works, I&rsquo;ve tested that. <strong>Note, however, that timestamps might be wrong with <code>vobcopy</code>, so the VOB runs just fine linearly but might run into problems when you seek.</strong> Therefore, FFmpeg is still the way to go. Or maybe you can do it right with one click using some closed source software ☹ — I&rsquo;ve heard about success stories with the long ceased DVD Decrypter Windows project. In reality, I guess only people with theoretical interest or OCD will ever do this — FLAC or AAC should serve everyone just fine. It should have worked with <code>vobcopy</code> alone, but it doesn&rsquo;t. Hence the workaround.</p>

<hr />

<p>For future reference, I&rsquo;ll translate the ArchWiki cookbook solution here (it&rsquo;s too cookbook itself, specifying paths like <code>~/movie_name</code> and using unnecessary <code>cd</code>) about creating a title-specific DVD from a multi-title DVD (replace <code>SOURCE</code>, <code>VOB_TARGET_DIR</code>, <code>DVD_TARGET_DIR</code>, <code>TITLE_NUMBER</code>, and <code>TITLE_NAME</code> with sane values):</p>

<pre><code>dvdbackup -i SOURCE -o VOB_TARGET_DIR -t TITLE_NUMBER -n TITLE_NAME
dvdauthor -t -o DVD_TARGET_DIR VOB_TARGET_DIR/TITLE_NAME/VIDEO_TS/*.VOB
export VIDEO_FORMAT=NTSC
cd DVD_TARGET_DIR/VIDEO_TS &amp;&amp; dvdauthor -T -o DVD_TARGET_DIR
</code></pre>

<p><code>export VIDEO_FORMAT=NTSC</code> is to avoid the <code>dvdauthor</code> error of &ldquo;no default video format, must explicitly specify NTSC or PAL&rdquo; (I&rsquo;m not sure about the difference between NTSC and PAL, but I saw NTSC printed on my DVD, so I used it). And there you go, a shiny new DVD filesystem located in <code>DVD_TARGET_DIR</code>. (Note that unlike <code>vobcopy</code>, <code>dvdbackup</code> doesn&rsquo;t feature a nice progress bar even when <code>-v/--verbose</code> and <code>-p/--progress</code> are specified.) Then you can</p>

<pre><code>vobcopy -l DVD_TARGET_DIR
</code></pre>

<p>if you&rsquo;d like to. Recall that timestamps might be wrong, sadly.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fun]]></title>
    <link href="http://zmwangx.github.io/blog/2014/10/29/fun/"/>
    <updated>2014-10-29T11:26:29-07:00</updated>
    <id>http://zmwangx.github.io/blog/2014/10/29/fun</id>
    <content type="html"><![CDATA[<p>This happened in yesterday&rsquo;s Math 210A lecture.</p>

<blockquote><p>Ravi: I won&rsquo;t be here next Thursday.<br>
Someone: Will there be a lecture?<br>
Ravi: Yeah, Brian Conrad will give a lecture. Don&rsquo;t tell him, he don&rsquo;t know this yet.</p></blockquote>

<p>&hellip;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Google Drive — No Selective Subfolder Sync?]]></title>
    <link href="http://zmwangx.github.io/blog/2014/10/28/google-drive-no-selective-subfolder-sync/"/>
    <updated>2014-10-28T20:49:24-07:00</updated>
    <id>http://zmwangx.github.io/blog/2014/10/28/google-drive-no-selective-subfolder-sync</id>
    <content type="html"><![CDATA[<p>Up to this point I&rsquo;ve been using Google Drive as an online backup service, and uploads files mostly manually, although I do sync <code>~/img</code> with the client.</p>

<p><strong>Aside.</strong> Google Drive, OneDrive, etc. don&rsquo;t work with symlinks. Wanna keep your stuff free and duplicate-free yet still synced to the servers? Use <code>rsync</code> to automatically reproduce your folder structure with hard links:</p>

<pre><code>rsync -avzP --delete --link-dest=SOURCE/ SOURCE DESTINATION
</code></pre>

<p>e.g.,</p>

<pre><code>rsync -avzP --delete --link-dest=~/img/ ~/img/ ~/sync/GoogleDrive/img/
</code></pre>

<p>automatically reproduces my <code>~/img</code> in the <code>img</code> directory under Google Drive&rsquo;s root, yet every file in the <code>~/img</code> tree is replaced by hard links to the original file, so the new structure within Google Drive takes little additional space — for the directories only.</p>

<p>That doesn&rsquo;t solve every problem though, as you will see shortly. <em>End of aside.</em></p>

<p>So, up to this point I’ve mostly used Google Drive as an online backup service by manually uploading (huge) stuff. But at some point I’m gonna automate parts of the uploading. As it turns out, I can keep some smaller video files on my hard drive; other bigger monsters (like movies, TV shows, etc., especially a lot of 1080i Transport Streams directly from TV broadcasts) are uploaded and then moved to external drives. Some of the smaller files, including things downloaded from YouTube, live in <code>~/vid/etc</code>, and I want to sync this folder to Google Drive. What&rsquo;s shocking is that this is not possible with the Google Drive client — it only allows selective syncing of the top level folders. Let me repeat this:</p>

<p><strong>The Google Drive client only allows selective syncing of the <em>top level folders</em>.</strong></p>

<p>This is <em>insane</em>. It’s almost 2015. Everyone supports this — Dropbox, Microsoft, Box, even Baidu. Google Drive launched on April 24, 2012, that’s 2.5 years ago. <a href="https://productforums.google.com/forum/#!topic/drive/Gs2w1BL-B9U">This thread</a> on Google Drive Forum, “Ability to sync only selected sub folders”, was posted on August 27, 2012, and has garnered 139 replies. They are ignored by the developers, and the accepted “answer” is to utilize Google Drive’s assign-one-file/folder-to-multiple-folders feature to create a special “sync” directory. Okay, that’s a stupid hard link solution on the server side. Okay, if that works… <em>No</em>. “Hard links on the server side” cannot bear different names; so what if I want to sync, say, both <code>vid/etc</code> and <code>aud/etc</code>? Whoops. So I also have to do all sorts of ugly renaming. NO, GOOGLE, NO, I won&rsquo;t accept that much trouble.</p>

<p>This kind of insanity makes me wander:</p>

<p><strong>Do the Google Drive developers use Google Drive themselves?</strong></p>

<p>For now I&rsquo;m moving <code>vid/etc</code> to <code>vid_etc</code>. Sigh.</p>

<hr />

<p>There are other problems that I encountered with Google Drive sync today. For one thing, it rejects what I already have and insists on starting from scratch. I mean, say I have uploaded a folder via the web interface, and later wants to keep it in sync (of course that&rsquo;s only possible if it&rsquo;s top level), so I put what I already have there. Nope, Google Drive reports that as a conflict and insists on downloading all the stuff again. Apart from wasted traffic, that also ruins my hard links, so I have to either wipe everything clean on the server side and reupload, or redownload everything and redo all the hard-linking after the download finishes. Either way, very annoying. I opted for the first one. (I later empirically confirmed that OneDrive could handle this situation.)</p>

<p>There are other problems that don&rsquo;t pop right off my mind. Anyway, the gist is,</p>

<p><strong>Google Drive is not yet sync-ready for power users (maybe even laymen).</strong></p>

<hr />

<p>Then, is OneDrive perfect? No. I know it recently went unlimited, but there’s one major annoyance: the speed. Stanford’s Ethernet speed is almost 1 Gbps UL/DL, but the OneDrive client tops out at about 2 MBps. The web interface isn’t much better. Google Drive is a lot faster than that, which makes it a good backup service for manual uploading. Anyway, maybe OneDrive will improve over time; yesterday they delivered an update to OneDrive.app, and at least it finally works.</p>

<p>OneDrive also boasts no file status indicators on OS X, which everyone else in the industry has. That’s not a show-stopper though, if you just use it as a backup service.</p>

<hr />

<p>What about Dropbox? Dropbox is a truly awesome sync-ready service, but it is at the same time pretty expensive compared to others. Also, since I use Dropbox as a sync service, it must be up at all times and constantly indexing, so I’m really cautious with what I put there to avoid unnecessary cycles and startup time.</p>

<hr />

<p>Everything is broken in one way or another. Sigh. Let&rsquo;s hope that OneDrive improves a lot in the coming months; if it&rsquo;s stable enough and the speed gets some boost, I&rsquo;ll cancel my Google Drive subscription. I am a Google supporter and Microsoft hater, but a service that <em>works</em> is more important than ideology.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mou 1.0 Fundraiser: Goal Reached]]></title>
    <link href="http://zmwangx.github.io/blog/2014/10/28/mou-1-dot-0-fundraiser-goal-reached/"/>
    <updated>2014-10-28T01:57:06-07:00</updated>
    <id>http://zmwangx.github.io/blog/2014/10/28/mou-1-dot-0-fundraiser-goal-reached</id>
    <content type="html"><![CDATA[<p>A week ago I wrote a post <a href="blog/2014/10/20/help-mou-hit-1-dot-0/"><em>Help Mou hit 1.0</em></a>. Today, I&rsquo;m delighted to find out that Mou has reached its goal, $20,000, half way into the fundraiser.</p>

<p><img src="http://i.imgur.com/vM298t5.png" alt="Mou hit its goal on Indiegogo" /></p>

<p>So what do I expect from 1.0? Most importantly,</p>

<ul>
<li>CommonMark support, especially GFM fenced code block and saner nested structures;</li>
<li>Custom Markdown engine (I would like to call <a href="https://github.com/jgm/CommonMark"><code>stmd</code></a>).</li>
</ul>


<p>Whatever the case, Emacs is still my best friend.</p>
]]></content>
  </entry>
  
</feed>
