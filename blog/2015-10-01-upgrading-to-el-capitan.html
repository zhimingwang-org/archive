<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta content="pandoc" name="generator"/>
<meta content="Zhiming Wang" name="author"/>
<meta content="2015-10-01T11:46:44-07:00" name="date"/>
<title>Upgrading to El Capitan</title>
<link href="/img/apple-touch-icon-152.png" rel="apple-touch-icon-precomposed"/>
<meta content="#FFFFFF" name="msapplication-TileColor"/>
<meta content="/img/favicon-144.png" name="msapplication-TileImage"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="/css/normalize.min.css" media="all" rel="stylesheet" type="text/css"/>
<link href="/css/theme.css" media="all" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="archival-notice">This blog has been archived.<br/>Visit my home page at <a href="https://zhimingwang.org">zhimingwang.org</a>.</div>
<nav class="nav">
<a class="nav-icon" href="/" title="Home"><!--blog icon--></a>
<a class="nav-title" href="/"><!--blog title--></a>
<a class="nav-author" href="https://github.com/zmwangx" target="_blank"><!--blog author--></a>
</nav>
<article class="content">
<header class="article-header">
<h1 class="article-title">Upgrading to El Capitan</h1>
<div class="article-metadata">
<time class="article-timestamp" datetime="2015-10-01T11:46:44-07:00">October 1, 2015</time>
</div>
</header>
<p>I upgraded to El Capitan last night, and the experience is pretty painless. To be accurate, I'm not really upgrading in place — I always perform a clean install for each major OS upgrade to avoid subtle breakage later on. Therefore, what I did instead was to <code>rsync</code> out all my valuable data and state information<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> to an external drive, wipe the internal drive clean, install new OS from scratch, then <code>rsync</code> everything back in. <code>rsync</code> is really good at this stuff (I affectionately alias <code>rsync -avP</code> to <code>r</code> during transfers in and out), and it is simply amazing at dropping the right stuff at the right place, including data deep down <code>~/Library/Containers</code>, without interfering with the existing structures<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a>. With data and state info ready, reinstalling programs is also easy, thanks to my recently finished <a href="/blog/2015-08-25-automated-os-x-provisioning.html">automated provisioning system</a>. It was the first time I used it outside a VM to provision an OS from almost scratch, and I'm really happy with it.</p>
<p>Thus far, most of my programs and applications seem to work just fine on El Capitan. I needed to <code>brew reinstall pyenv --HEAD</code> because an OpenSSL fix for El Capitan hasn't made into a release yet. Some of XtraFinder's features<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a>, including my most needed auto resizing columns, don't seem to work on El Capitan yet, and I'll have to contact the developer soon. The only distratrous incompatibility I've seen lies with Mathematica 9; <code>codesign -vvvv Mathematica.app</code> on the v9.0.1 app bundle says <code>resource envelope is obsolete (version 1 signature)</code>, and OS X downright refused to open the app, offering me no option other than trashing the app, even when I temporarily set Gatekeeper to "Any". Anyway, I quickly paid to upgrade to v10.2.0 (cost of free OS upgrade, geez), and it ran happily afterwards. Those were basically all I had to deal with. I haven't set up my mail accounts<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> and printer yet, but hopefully they will work, and just hopefully Apple Mail finally got it right this time™ and won't ask me to reauthenticate with Gmail all the time.</p>
<p>Overall it was pretty good experience. Nevertheless, I was caught by surprise at least twice, due to subtle user-facing changes in the OS. Actually these surprises motivated me to write this post.</p>
<p>First, <u>the OS seems to default to using the iCloud password (i.e., the Apple ID password) as the local account password now.</u> Maybe I missed a checkbox during setup (unlikely), and maybe it was nothing new (I don't think so), but I only realized this when I needed to <code>sudo</code> on the new OS for the first time. I typed my usual local password thrice, no luck. Did I accidentally gave my 1Password master password? Thrice, no luck. Did I accidentally used Vagrant's default password (i.e., <code>vagrant</code>, however unlikely)? This one is short enough and I didn't need to type it thrice to realize it was wrong — I knew that all along anyway. Did I... No, I couldn't have used anything else (literally ten minutes ago) without remembering it. I was completely horror-struck at that point, but speaking of remembering, I didn't even remember giving a password hint! So could it be... Yes, I typed in my 32 character long iCloud password, and this time it was right. I quickly realized after the fact that this setting could be toggled in the standard System Preferences -&gt; Users &amp; Groups -&gt; Change Password... (see screenshot below), so if you are in this situation, don't panic. I don't like this move though. Hopefully Apple won't degrade to Microsoft's level at some future point, where you either sign in with a Microsoft account (and have to type your Microsoft password to log in) or miss out on cloud features with a local account.</p>
<div class="figure">
<a href="/img/20151001-osx-el-capitan-icloud-password-to-log-in.png" target="_blank"><img alt="Screenshot taken after I've changed to a local password. After initial setup, it would be the reverse." src="/img/20151001-osx-el-capitan-icloud-password-to-log-in.png"/></a>
<p class="caption">Screenshot taken after I've changed to a local password. After initial setup, it would be the reverse.</p>
</div>
<p>Secondly, <u>three finger drag, a multitouch gesture that I use all the time to move windows on screen, is now mysteriously gone from System Preferences -&gt; Trackpad</u> (it used to be in "Touch &amp; Click"):</p>
<div class="figure">
<a href="/img/20151001-osx-el-capitan-wheres-my-three-finger-drag.png" target="_blank"><img alt="Where's my beloved three finger drag? By the way, since it is shown in this screenshot, I'll officially declare here that I'm a tap-to-click wizard." src="/img/20151001-osx-el-capitan-wheres-my-three-finger-drag.png"/></a>
<p class="caption">Where's my beloved three finger drag? By the way, since it is shown in this screenshot, I'll officially declare here that I'm a tap-to-click wizard.</p>
</div>
<p>Maybe Apple found it somewhat confusing with the three finger tap/click, which is clearly a different gesture. I found the solution in an Apple Support document, <a href="https://support.apple.com/en-us/HT204609">Turn on "three finger drag" for your Force Touch trackpad</a>, while my trackpad is clearly not Force Touch (the document was written for Yosemite, so clearly the reorganized settings started out on the MacBook One and newer Retina MacBook Pros in Yosemite and spreaded to all Macs in El Capitan). Anyway, the gesture could be turned on in System Preferences -&gt; Accessibility -&gt; Mouse &amp; Trackpad Options... -&gt; Enable dragging. That was godawful, no one could possibly find it, but hopefully it's hidden there because of the confusion rather than Apple intentionally phasing it out.</p>
<div class="figure">
<a href="/img/20151001-osx-el-capitan-three-finger-drag-there-it-is.png" target="_blank"><img alt="Oh, there it is!" src="/img/20151001-osx-el-capitan-three-finger-drag-there-it-is.png"/></a>
<p class="caption">Oh, there it is!</p>
</div>
<div class="footnotes">
<hr/>
<ol>
<li id="fn1"><p>State information includes <code>~/.config</code> and <code>~/.local</code>, Google Chrome and Firefox profiles, Messages archive, Mathematica customizations, Unclutter notes, VMware Fusion inventory, various important plists, and so on and so forth.<a class="footnotes-backlink" href="#fnref1">↩︎</a></p></li>
<li id="fn2"><p>Unless you are stupid enough to specify the <code>--delete</code> flag when you transfer in.<a class="footnotes-backlink" href="#fnref2">↩︎</a></p></li>
<li id="fn3"><p>As mentioned in <a href="/blog/2015-07-30-the-sad-state-of-finder-on-el-capitan.html">The sad state of Finder on El Capitan</a>, I've disabled SIP and am running XtraFinder. I simply can't live with the stock Finder, that is, without code injection.<a class="footnotes-backlink" href="#fnref3">↩︎</a></p></li>
<li id="fn4"><p>Setting up mail accounts is the most painful thing in the world, especially if you have a dozen of them for different tasks.<a class="footnotes-backlink" href="#fnref4">↩︎</a></p></li>
</ol>
</div>
</article>
<hr class="content-separator"/>
<footer class="footer">
<span class="rfooter">
<a class="rss-icon" href="/rss.xml" target="_blank" title="RSS feed"><!--RSS feed icon--></a><a class="atom-icon" href="/atom.xml" target="_blank" title="Atom feed"><!--Atom feed icon--></a><a class="cc-icon" href="https://creativecommons.org/licenses/by/4.0/" target="_blank" title="Released under the Creative Commons Attribution 4.0 International license."><!--CC icon--></a>
<a href="https://github.com/zmwangx" target="_blank">Zhiming Wang</a>
</span>
</footer>
</body>
</html>
